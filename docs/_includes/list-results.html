
  {% comment %}
  Ugh. You cannot sort numerically and cannot (easily) add a custom 
  field to an existing array. Let's generate a long string of (key,
  val) pairs, sort that, and then split everything again.
  See: https://stackoverflow.com/questions/6387540/
  Also: https://github.com/Shopify/liquid/issues/980
  {% endcomment %}

  {%- assign acclaimed = (include.num-to-elect == include.valid-nominees.size) -%}

  {% capture tuples -%}
    {%- for candidate in include.nominees -%}


      {%- if candidate.Votes -%}
        {%- assign padded-votes = candidate.Votes 
          | plus: 0 | plus: site.big_number -%}
      {%- else -%}
        {{ assign padded-votes = site.big_number }}
      {%- endif -%}

      {{ padded-votes }} :field:

      {%- if acclaimed -%}
        <strong>(Acclaimed) </strong>
      {%- if candidate.Winner == 'Y' -%}
        <strong>(Winner) </strong>
      {%- elsif candidate.Withdrawn == 'Y' -%}
        <strong>(Withdrawn) </strong>
      {%- endif -%}

      {{ candidate.Given_Names }} 
      {{ candidate.Last_Name }}

      {% if candidate.Votes == '0' %}
        :no votes.
      {% elsif candidate.Votes %}
        :{{ candidate.Votes }} votes. 
      {% else %}
        :no votes.
      {%- endif -%}
      :split:
    {%- endfor -%}
  {%- endcapture %}

  <ul>
    {% assign tuple-split = tuples | split:':split:'| sort | reverse %}
    
  </ul>

  <p>Tuples: {{ tuples }}</p>

  <div class="results-list">
    <h3 class="medium-text">Results</h3>
    <ul>
      {%- for candidate in tuple-split -%}
        {%- assign candidate-split = candidate | split:':field:' -%}
        <li>{{ candidate-split[1] }}</li>
      {%- endfor -%}
    </ul>
  </div>


